<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inventory Management System</title>
  <link rel="stylesheet" href="/app.css" />
</head>
<body>
  <header class="topbar">
    <div>
      <h1>Inventory Management System</h1>
      <p>Internal dashboard for stock, storage, and movement control.</p>
    </div>
    <button id="logout-btn" class="btn secondary hidden">Logout</button>
  </header>

  <main class="container">
    <section id="login-panel" class="card small">
      <h2>Sign In</h2>
      <p>Use your internal admin credentials.</p>
      <form id="login-form" class="form-grid">
        <label>
          Email
          <input type="email" id="login-email" required autocomplete="username" />
        </label>
        <label>
          Password
          <input type="password" id="login-password" required autocomplete="current-password" />
        </label>
        <button class="btn" type="submit">Login</button>
      </form>
      <p class="hint">Default: admin@inventory.local / ChangeMe123! (change this in <code>.env</code>)</p>
    </section>

    <section id="app-panel" class="hidden">
      <section class="summary-grid" id="summary-grid"></section>

      <section class="grid two">
        <article class="card">
          <h3>Storage Areas</h3>
          <form id="area-form" class="form-grid compact">
            <input type="hidden" id="area-id" />
            <label>Code <input id="area-code" maxlength="20" required /></label>
            <label>Name <input id="area-name" required /></label>
            <label>Description <input id="area-description" /></label>
            <label class="inline-check"><input type="checkbox" id="area-active" checked /> Active</label>
            <div class="actions">
              <button class="btn" type="submit">Save Area</button>
              <button class="btn ghost" type="button" id="area-reset">Reset</button>
            </div>
          </form>
          <div class="table-wrap">
            <table>
              <thead>
                <tr><th>Code</th><th>Name</th><th>Status</th><th>Actions</th></tr>
              </thead>
              <tbody id="areas-table"></tbody>
            </table>
          </div>
        </article>

        <article class="card">
          <h3>Items</h3>
          <form id="item-form" class="form-grid compact">
            <input type="hidden" id="item-id" />
            <label>SKU <input id="item-sku" maxlength="30" required /></label>
            <label>Name <input id="item-name" required /></label>
            <label>Category <input id="item-category" /></label>
            <label>Unit <input id="item-unit" value="unit" /></label>
            <label>Reorder Level <input id="item-reorder" type="number" min="0" step="0.001" value="0" /></label>
            <label>Notes <input id="item-notes" /></label>
            <label class="inline-check"><input type="checkbox" id="item-active" checked /> Active</label>
            <div class="actions">
              <button class="btn" type="submit">Save Item</button>
              <button class="btn ghost" type="button" id="item-reset">Reset</button>
            </div>
          </form>
          <div class="table-wrap">
            <table>
              <thead>
                <tr><th>SKU</th><th>Name</th><th>Reorder</th><th>Status</th><th>Actions</th></tr>
              </thead>
              <tbody id="items-table"></tbody>
            </table>
          </div>
        </article>
      </section>

      <section class="card">
        <h3>Stock Movements</h3>
        <form id="movement-form" class="form-grid movement-grid">
          <label>Type
            <select id="move-type" required>
              <option value="receive">Receive</option>
              <option value="issue">Issue</option>
              <option value="transfer">Transfer</option>
              <option value="adjust">Adjust (+/-)</option>
              <option value="set">Set Absolute</option>
            </select>
          </label>
          <label>Item
            <select id="move-item" required></select>
          </label>
          <label id="move-qty-wrap">Quantity
            <input id="move-quantity" type="number" step="0.001" />
          </label>
          <label class="hidden" id="move-target-wrap">Target Quantity
            <input id="move-target" type="number" min="0" step="0.001" />
          </label>
          <label id="move-from-wrap">From Area
            <select id="move-from"></select>
          </label>
          <label id="move-to-wrap">To Area
            <select id="move-to"></select>
          </label>
          <label>Reference
            <input id="move-reference" placeholder="PO-1003 / JOB-22" />
          </label>
          <label>Note
            <input id="move-note" placeholder="What changed and why" />
          </label>
          <div class="actions">
            <button class="btn" type="submit">Apply Movement</button>
          </div>
        </form>
      </section>

      <section class="grid two">
        <article class="card">
          <div class="card-head">
            <h3>Inventory Levels</h3>
            <div class="inline-controls">
              <input id="levels-search" placeholder="Search item, SKU, area" />
              <select id="levels-area-filter"></select>
              <button class="btn ghost" id="levels-refresh" type="button">Refresh</button>
            </div>
          </div>
          <div class="table-wrap tall">
            <table>
              <thead>
                <tr>
                  <th>Item</th>
                  <th>SKU</th>
                  <th>Area</th>
                  <th>Qty</th>
                  <th>Total</th>
                  <th>Reorder</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody id="levels-table"></tbody>
            </table>
          </div>
        </article>

        <article class="card">
          <h3>Low Stock Alerts</h3>
          <div class="table-wrap">
            <table>
              <thead>
                <tr><th>Item</th><th>SKU</th><th>Total</th><th>Reorder</th></tr>
              </thead>
              <tbody id="low-stock-table"></tbody>
            </table>
          </div>
        </article>
      </section>

      <section class="card">
        <h3>Recent Movements</h3>
        <div class="table-wrap tall">
          <table>
            <thead>
              <tr>
                <th>Time</th>
                <th>Type</th>
                <th>Item</th>
                <th>Qty</th>
                <th>From</th>
                <th>To</th>
                <th>By</th>
                <th>Note</th>
              </tr>
            </thead>
            <tbody id="movements-table"></tbody>
          </table>
        </div>
      </section>
    </section>

    <p id="toast" class="toast hidden"></p>
  </main>

  <script src="/dashboard.js"></script>
</body>
</html>
